@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccesor

<ul class="navbar-nav">
    @{
        ViewBag.Username = @HttpContextAccesor.HttpContext.Session.GetString("Username");
        ViewBag.name = @HttpContextAccesor.HttpContext.Session.GetString("name");
    }
    @if (ViewBag.Username != null)
    {
        
        <div class="dropdown">
            <button class="btn btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                Account
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li class="nav-item">
                    <a @*id="Manage"*@ class="nav-link text-dark" @*asp-controller="Home" asp-action="Privacy"*@ title="Manage">Hi Admin @ViewBag.name</a>
                </li>
                <li class="nav-item">
                    <form>
                        @* class="form-inline" asp-route-returnUrl="@Url.Action("Login", "Login", new { area = "" })">*@
                        <button id="Logout" type="submit" class="nav-link btn btn-link text-dark" asp-controller="Admin" asp-action="Logout">Logout</button>
                    </form>
                </li>
            </ul>
        </div>
    }
    else if (ViewBag.name != null)
    {
        <div class="dropdown">
        <button class="btn btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
            Account
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li class="nav-item">
                <a @*id="Manage"*@ class="nav-link text-dark" @*asp-controller="Home" asp-action="Privacy"*@ title="Manage">Hi @ViewBag.name</a>
            </li>
            <li class="nav-item">
            <form>
                @* class="form-inline" asp-route-returnUrl="@Url.Action("Login", "Login", new { area = "" })">*@
                <button id="Cart" type="submit" class="nav-link btn btn-link text-dark" asp-controller="Cart" asp-action="Index">Cart</button>

                <button id="Logout" type="submit" class="nav-link btn btn-link text-dark" asp-controller="Admin" asp-action="Logout">Logout</button>
            </form>
        </li>
        </ul>
        </div>
        
    }
    else
    {
        <div class="dropdown">
            <button class="btn btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                Login
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li><a class="dropdown-item" href="User/Login">User</a></li>
                <li><a class="dropdown-item" href="Admin/Login">Admin</a></li>
            </ul>
        </div>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-controller="User" asp-action="Register">Register</a>
        </li>
    }
</ul>